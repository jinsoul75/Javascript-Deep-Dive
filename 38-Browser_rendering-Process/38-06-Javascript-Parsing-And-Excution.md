# 38-06-Javascript-Parsing-And-Excution

- HTML을 파싱하여 만들어진 DOM은 HTML 문서 구조와 정보 뿐만 아니라 API를 제공한다.
    - 어떤 API냐하면 HTML요소와 스타일을 변경할 수 있는 멋찐 API이다.
    - 이미 생성된 DOM을 동적으로 조작할 수 있다.
- 브라우저의 렌더링 엔진이 HTML을 한 줄씩 파싱하다가
    - script태그를 만나게되면 파싱(DOM 생성)을 일시중단하고
    - src 속성에 연결된 JS파일을 서버에 요청한다.
    - JS 코드를 파싱하기 위해 JS 엔진에게 제어권을 넘긴다.
    - JS 파싱이 끝나면 다시 렌더링 엔진에게 제어권을 넘긴다.
- JS엔진은 JS를 **파싱**하여 CPU가 이해할 수 있는 저수준언어로 **변환**하고 **실행**하는 역할
    - 렌더링 엔진이 DOM과 CSSOM을 생성하듯이 AST(추상적 구문 트리) 생성한다.
        - AST 기반으로 인터프리터가 실행할 수 있는 중간 코드인 바이트 코드를 생성하여 실행한다.
1. 토크나이징
    - 단순한 문자열인 JS 소스코드 ⇒ 어휘분석 ⇒ 토큰으로 분해
2. 파싱
    - 토큰들의 집합 ⇒ 구문 분석 ⇒ AST생성
    - AST =  토큰 + 문법적 의미 + 구조  ⇒ 트리 구조의 자료구조
    - TypeScript, Babel, Prettier 같은 프랜스파일러 구현할 수도 있다.
3. 바이트코드 생성과 실행
    - 파싱의 결과물인 AST는 바이트코드로 변환되고
    - 인터프리터에 의해 실행된다.
        - (참고)V8엔진의 경우 자주 쓰는 코드는 터보팬 컴파일러에 의해 최적화된 머신코드로 컴파일러 되어 성능을 최적화 한다.